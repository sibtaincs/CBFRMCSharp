@model CBFRM.Areas.ComplainManagement.Models.UserViewModel
@{
	ViewBag.Title = "User Management Form";
	Layout = "~/Views/Shared/_Layout.cshtml";
	//Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}



@section styles{

	@Styles.Render("~/Content/DataTable/css")
	<!-- Styles -->

	<link href="~/Content/assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css" />
	<link href="~/Content/assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.css" rel="stylesheet" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css" rel="stylesheet" />
	<link href="~/Content/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css" />
	<link href="~/Content/assets/global/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
	<link href="~/Content/assets/global/plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet" type="text/css" />
	<link href="~/Content/assets/global/plugins/bootstrap-multiselect/css/bootstrap-multiselect.css" rel="stylesheet" />
	<link href="~/Content/application.css" rel="stylesheet" />

}


<style>
	.form-group.form-md-line-input.form-md-floating-label .form-control ~ label {
		font-size: 16px !important;
		top: 15px;
		left: 0px !important;
		transition: 0.2s ease all !important;
		color: #999 !important;
		padding-left: 15px;
	}

	.form-group.form-md-line-input.form-md-floating-label .form-control:focus ~ label {
		font-size: 13px !important;
		top: 0px;
		left: 0px !important;
		transition: 0.2s ease all !important;
		color: #999 !important;
		padding-left: 15px;
	}

	.form-group.form-md-line-input .form-control ~ .form-control-focus, .form-group.form-md-line-input .form-control:focus ~ label {
		font-size: 13px !important;
	}

	.form-group.form-md-line-input.form-md-floating-label .form-control[readonly] ~ label, .form-group.form-md-line-input.form-md-floating-label .form-control.edited ~ label, .form-group.form-md-line-input.form-md-floating-label .form-control.form-control-static ~ label, .form-group.form-md-line-input.form-md-floating-label .form-control:focus:not([readonly]) ~ label, .form-group.form-md-line-input.form-md-floating-label .form-control.focus:not([readonly]) ~ label {
		top: 0 !important;
		font-size: 13px !important;
	}

	.form-group.form-md-line-input .form-control {
		background: none !important;
		border: 0 !important;
		border-bottom: none !important;
		font-size: 16px !important;
		font-weight: 600 !important;
	}

	.customclass {
		position: relative !important;
		margin: 0 0 35px !important;
		padding-top: 15px !important;
		background: border-box !important;
		border: 2px solid #e3e3e4 !important;
		border-radius: 5px !important;
		padding-right: 30px !important;
		padding-left: 15px;
	}
</style>
<div class="page-container">
	<div class="page-content-wrapper">
		<!-- BEGIN CONTENT BODY -->
		<div class="page-content">
			<div class="portlet box">


				<div class="portlet-body" style="background-color:#eff3f8">
					<div class="row">

						<div class="col-md-12">
							<div class="col-md-6">
								<div class="portlet box blue">
									<div class="portlet-title">
										<div class="caption">
											<i class="fa fa-flag"></i>Countries Group
										</div>
										<div class="tools">
											<a href="javascript:;" class="collapse"> </a>
										</div>
									</div>
									<div class="portlet-body">
										<div class="panel-group accordion" id="accordion3">
											@foreach (var country in Model.spGetCountries)
											{

												<div class="panel panel-default">
													<div class="panel-heading" style="height:30px">
														<h6 class="panel-title">
															<span>
																<button type="button" class="btn btn-success btn-sm pull-right" data-toggle='modal' data-target='#SaveModal' href="@Url.Action("../../ComplainManagement/Dashboard/Edit/", new { id = country.CountryCode })">
																	<i class="fa fa-edit"></i>
																	Edit

																</button>
																<a href='../../ComplainManagement/ComplainForm/Edit/" + item.CommunityBasedComplaintID + "' class='accordion-toggle accordion-toggle-styled collapsed' data-toggle="collapse" data-parent="#accordion3">@country.CountryName</a>
																<a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion3">

																	
																</a>

															</span>


														</h6>

													</div>
													<div id="@country.CountryCode" class="panel-collapse collapse">
														<div class="panel-body" style="height:200px; overflow-y:auto;">
															<p>David(Meal Coordinator) </p>
															<p>Michel(Officer) </p>
														</div>
													</div>
												</div>

											}
										</div>
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="portlet box yellow">
									<div class="portlet-title">
										<div class="caption">
											<i class="fa fa-paperclip"></i>Admin Group
										</div>
										<div class="tools">
											<a href="javascript:;" class="collapse"> </a>

										</div>
									</div>
									<div class="portlet-body">
										<div class="panel-group accordion" id="accordion3">
											<div class="panel panel-default">
												<div class="panel-heading" style="height:30px">
													<h4 class="panel-title">

														<span>

															<button type="button" class="btn btn-success btn-sm pull-right">
																<i class="fa fa-edit"></i>
																Edit

															</button>

															<a class="accordion-toggle accordion-toggle-styled" data-toggle="collapse" data-parent="#accordion3" href="#collapse_3_1"> Admin Group </a>


														</span>
													</h4>
												</div>
												<div id="collapse_3_1" class="panel-collapse in">
													<div class="panel-body">
														<p>Ali Arshad (Admin)</p>
														<p>

														</p>
													</div>
												</div>
											</div>

										</div>
									</div>
								</div>
							</div>
							<div class="col-md-6">
								<div class="portlet box purple">
									<div class="portlet-title">
										<div class="caption">
											<i class="fa fa-gift"></i>IT Group
										</div>
										<div class="tools">
											<a href="javascript:;" class="collapse"> </a>

										</div>
									</div>
									<div class="portlet-body">
										<div class="panel-group accordion scrollable" id="accordion2">
											<div class="panel panel-default">
												<div class="panel-heading" style="height:30px">



													<h4 class="panel-title">

														<span>

															<button type="button" class="btn btn-success btn-sm pull-right">
																<i class="fa fa-edit"></i>
																Edit

															</button>

															<a class="accordion-toggle accordion-toggle-styled" data-toggle="collapse" data-parent="#accordion2" href="#collapse_2_1"> IT Group </a>


														</span>
													</h4>
												</div>
												<div id="collapse_2_1" class="panel-collapse in">
													<div class="panel-body">

														<p>Talib Mustafa(IT Group)</p>
														<p>Sibtain Shah(IT Group)</p>
													</div>
												</div>
											</div>


										</div>
									</div>
								</div>
							</div>

						</div>

					</div>

				</div>
			</div>
			<div class="modal fade draggable-modal" id="SaveModal" tabindex="" role="main" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<!-- BEGIN FORM-->
						<form id="CountryValidation" class="form-horizontal" action="/ComplainManagement/Dashboard/Index" method="post">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
								<h4 class="modal-title"><i class="fa fa-edit"></i> <span id="modalHeading" class="caption-subject font-green bold uppercase">Add User Details</span></h4>
							</div>
							<div class="modal-body">
								<div class="form-body">
									<div class="alert alert-danger display-hide">
										<button class="close" data-close="alert"></button> Please enter Country name!
									</div>
									<div class="alert alert-success display-hide">
										<button class="close" data-close="alert"></button> Please wait request is under process...
									</div>
									<div class="form-group">
										<label class="control-label col-md-2">
											Meal Cord
											<span class="required"> * </span>
										</label>
										<div class="col-md-9">
											<input type="text" id="TxtID" class="form-control" name="ID" style="display:none" />
											<div class="input-icon right">
												<i class="fa"></i>
												<select id="ddlEDWPersonIDAppealCommittee" name="EDWPersonID" class="form-control select2" multiple data-label="left" data-select-all="true" data-width="100%" data-filter="true" data-action-onchange="true">

													@foreach (var item in Model.spGetAppealCommitteName.OrderBy(x => x.FullName))
													{
														bool selected;
														selected = false;


														if (Model.spEditAppealCommittee.Count > 0)
														{
															foreach (var scid in Model.spEditAppealCommittee)
															{
																if (scid.EDWPersonID == item.EDWPersonID)
																{
																	<option value=@item.EDWPersonID selected>@item.FullName</option>
																	selected = true;
																	break;
																}
															}
														}

														if (selected == false)
														{

															<option value=@item.EDWPersonID>@item.FullName</option>
														}

													}


												</select>

											</div>
										</div>
									</div>
									<div class="form-group">
										<label class="control-label col-md-2">
											Officer
											<span class="required"> * </span>
										</label>
										<div class="col-md-9">
											<input type="text" id="TxtID" class="form-control" name="ID" style="display:none" />
											<div class="input-icon right">
												<i class="fa"></i>
												<select id="ddlEDWPersonIDAppealCommittee" name="EDWPersonID" class="form-control select2" multiple data-label="left" data-select-all="true" data-width="100%" data-filter="true" data-action-onchange="true">

													@foreach (var item in Model.spGetAppealCommitteName.OrderBy(x => x.FullName))
													{
														bool selected;
														selected = false;


														if (Model.spEditAppealCommittee.Count > 0)
														{
															foreach (var scid in Model.spEditAppealCommittee)
															{
																if (scid.EDWPersonID == item.EDWPersonID)
																{
																	<option value=@item.EDWPersonID selected>@item.FullName</option>
																	selected = true;
																	break;
																}
															}
														}

														if (selected == false)
														{

															<option value=@item.EDWPersonID>@item.FullName</option>
														}

													}


												</select>

											</div>
										</div>
									</div>
									<div class="form-group">
										<label class="control-label col-md-2">
											Field Site
											<span class="required"> * </span>
										</label>
										<div class="col-md-9">

											<div class="input-icon right">
												<i class="fa"></i>

												<select class="form-control" id="dllFieldSite" name="FieldSiteCode">
													<option value=""></option>
													@{string fsCode = "";}
													@foreach (var item in Model.spGetFieldSiteCode.OrderBy(x => x.CountryCode))
													{
														if (item.FieldSiteCode == fsCode)
														{
															<option value="@item.FieldSiteCode" selected>@item.FieldSiteName</option>
														}
														else
														{
															<option value="@item.FieldSiteCode"> @item.FieldSiteName </option>
														}
													}
												</select>
											</div>
										</div>

									</div>
									
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn dark btn-outline" data-dismiss="modal">Close</button>
								<button type="submit" class="btn green">Save Country</button>
							</div>

						</form>
						<!-- END FORM-->

					</div>
					<!-- /.modal-content -->
				</div>
				<!-- /.modal-dialog -->
			</div>
		</div>

	</div>
</div>

@section scripts{

	@Scripts.Render("~/bundles/DataTable/jquery")

	<script src="~/Content/assets/global/plugins/select2/js/select2.full.min.js"></script>
	<script src="~/Content/assets/pages/scripts/components-select2.min.js" type="text/javascript"></script>


	
	<script>

        var viewBag = "";
        $(document).ready(function () {


            $('.datepicker').datepicker({ todayHighlight: true });


            debugger;
            try {
                viewBag = "@TempData["message"]";

                //viewBag = viewBag.replace(/-:-/g, "\"");
                // alert("@TempData["message"]")
                if (viewBag != null && viewBag != "" && viewBag.search("You have no rights to delete!") != -1) {
                    showMessage("You have no rights to delete!", viewBag, "warning", "btn-danger");
                }
                else if (viewBag != null && viewBag != "" && viewBag.search("Final Incident Deleted Successfully!") != -1)
                    {
                    showMessage("Final Incident Deleted Successfully!", viewBag, "warning", "btn-danger");
                    }
                else if (viewBag != null && viewBag != "" && viewBag.search("You cannot delete this Final Incident  becuase it has Onsite Incident Created") != -1) {
                    showMessage("You cannot delete this Final Incident  becuase it has Onsite Incident Created", viewBag, "warning", "btn-danger");
                }
            } catch (Exception) {

            }

        });





	</script>


}

